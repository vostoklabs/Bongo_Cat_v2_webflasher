<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bongo Cat ESP32 Installer</title>
    <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 300;
        }

        .hero-image {
            margin: 30px 0;
            text-align: center;
        }

        .hero-image img {
            max-width: 300px;
            width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .description {
            font-size: 1.2rem;
            color: #555;
            margin: 30px 0;
            text-align: center;
            line-height: 1.7;
        }

        .installation-section {
            background: white;
            border-radius: 12px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .installation-section h2 {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 30px;
            font-weight: 400;
        }

        .installation-steps {
            list-style: none;
            counter-reset: step-counter;
        }

        .installation-steps li {
            counter-increment: step-counter;
            margin: 15px 0;
            padding-left: 40px;
            position: relative;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .installation-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #3498db;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }

        .install-button-container {
            text-align: center;
            margin: 40px 0;
        }

        esp-web-install-button {
            --esp-tools-button-color: #3498db;
            --esp-tools-button-text-color: white;
            --esp-tools-button-background: #3498db;
            --esp-tools-button-border-radius: 8px;
            --esp-tools-button-padding: 12px 24px;
            font-size: 16px;
        }

        esp-web-install-button button {
            background: #3498db !important;
            color: white !important;
            border: none !important;
            padding: 12px 24px !important;
            border-radius: 8px !important;
            font-size: 16px !important;
            font-weight: 500 !important;
            cursor: pointer !important;
            transition: background-color 0.3s ease !important;
        }

        esp-web-install-button button:hover {
            background: #2980b9 !important;
        }

        .browser-note {
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            color: #e74c3c;
        }
        
        .companion-callout {
            background: #e8f4ff;
            border: 2px solid #3498db;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0 40px 0;
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.2);
            text-align: center;
        }

        .companion-callout h2 {
            color: #2c3e50;
            font-size: 1.9rem;
            margin-bottom: 10px;
        }

        .companion-callout p {
            font-size: 1.1rem;
            color: #2c3e50;
            margin-bottom: 0;
        }

        .companion-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 25px 0 10px 0;
        }

        .companion-button {
            display: inline-block;
            padding: 12px 22px;
            border-radius: 8px;
            background: #3498db;
            color: white;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .companion-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .companion-button.secondary {
            background: #2c3e50;
        }

        .responsive-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        .pc-app-section {
            background: white;
            border-radius: 12px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .pc-app-section h2 {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 400;
            text-align: center;
        }

        .pc-app-section h3 {
            font-size: 1.4rem;
            color: #2c3e50;
            margin: 30px 0 20px 0;
            font-weight: 500;
        }

        .app-description {
            font-size: 1.1rem;
            color: #555;
            text-align: center;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .download-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .download-button {
            display: inline-block;
            background: #27ae60;
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .download-button:hover {
            background: #229954;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }

        .download-note {
            margin-top: 10px;
            color: #666;
            font-size: 0.9rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .feature-item h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feature-item p {
            color: #555;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .screenshot-placeholder {
            background: #e9ecef;
            border: 2px dashed #adb5bd;
            border-radius: 6px;
            padding: 20px;
            text-align: center;
            color: #6c757d;
            font-style: italic;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .screenshot-placeholder.large {
            min-height: 200px;
            margin: 20px 0;
        }

        .setup-steps {
            margin: 30px 0;
        }

        .setup-list {
            list-style: none;
            counter-reset: setup-counter;
        }

        .setup-list li {
            counter-increment: setup-counter;
            margin: 15px 0;
            padding-left: 40px;
            position: relative;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .setup-list li::before {
            content: counter(setup-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #27ae60;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }

        .app-instructions {
            margin: 30px 0;
        }

        .instruction-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .instruction-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
            text-align: center;
        }

        .instruction-item h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .instruction-item p {
            color: #555;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .instruction-image {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .features-list {
            list-style: none;
            padding: 0;
        }

        .features-list li {
            background: #f8f9fa;
            margin: 10px 0;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #3498db;
        }

        .animations-showcase {
            margin: 30px 0;
        }

        .animations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .animation-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .animation-item h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .animation-gif {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
            background: white;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .header, .installation-section, .pc-app-section {
                padding: 20px;
            }
            
            .hero-image img {
                max-width: 250px;
            }

            .features-grid, .instruction-grid, .animations-grid {
                grid-template-columns: 1fr;
            }

            .download-button {
                padding: 12px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Bongo Cat ESP32 Installer</h1>
            
            <div class="hero-image">
                <img src="web-resources/cat1.png" alt="Bongo Cat" class="responsive-image">
            </div>

            <p class="description">
                Bongo Cat is a cute digital pet that will type with you. It can show CPU, RAM, and your typing speed in words per minute as well as time. Bongo cat will type faster if you type faster, featuring adorable animations and expressions that bring joy to your desk. Now available as a cross-platform desktop app for both Windows and Mac! The hardware is open source, costs around $10 to build, and flashes in seconds with no soldering required.
            </p>
        </div>

        <div class="companion-callout">
            <h2>Companion Desktop App Required</h2>
            <p>This Electron app streams typing data and system stats to your ESP32‚Äîinstall it right after flashing or Bongo Cat will stay idle.</p>
            <div class="companion-buttons">
                <a class="companion-button" href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/Bongo.Cat.Setup.1.0.0.zip" target="_blank" rel="noopener">
                    ü™ü Windows Installer (.zip)
                </a>
                <a class="companion-button" href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/bongo-cat-mac-arm64.zip" target="_blank" rel="noopener">
                    üçé macOS Apple Silicon
                </a>
                <a class="companion-button" href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/bongo-cat-mac-x64.zip" target="_blank" rel="noopener">
                    üçè macOS Intel
                </a>
                <a class="companion-button" href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/bongo-cat-linux-appimage.zip" target="_blank" rel="noopener">
                    üêß Linux AppImage
                </a>
                <a class="companion-button secondary" href="#desktop-apps">
                    ‚ÑπÔ∏è See setup details
                </a>
            </div>
            <p class="download-note" style="margin-top:5px;">All files are hosted on the <a href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/tag/v1" target="_blank" rel="noopener">GitHub Releases page</a>.</p>
        </div>

        <div class="installation-section">
            <h2>Software Installation Instructions</h2>
            
            <p style="text-align: center; font-size: 1.1rem; margin-bottom: 30px; color: #e74c3c; font-weight: 600;">
                ‚ö†Ô∏è Choose the correct board size below - 2.4 inch or 2.8 inch display
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; margin: 30px 0;">
                <!-- 2.4 inch Board Section -->
                <div style="background: #f8f9fa; border-radius: 12px; padding: 30px; border: 2px solid #3498db;">
                    <h3 style="color: #3498db; margin-bottom: 20px; text-align: center; font-size: 1.4rem;">2.4 Inch Display Board</h3>
                    
                    <ol class="installation-steps">
                        <li>Connect your ESP32 board with <strong>2.4 inch TFT display</strong> to your computer's USB port.</li>
                        <li>Click the 'Connect' button below. <strong>This will only work in Google Chrome or Microsoft Edge.</strong></li>
                        <li>When prompted to choose a port, choose "USB Serial".</li>
                        <li>Click 'Install Bongo Cat'.</li>
                    </ol>

                    <div class="install-button-container">
                        <esp-web-install-button 
                            id="install-button-24"
                            manifest="./manifest.json">
                            <button slot="activate">Connect 2.4" Board</button>
                            <span slot="unsupported">Your browser doesn't support Web Serial. Please use Chrome, Edge, or Opera.</span>
                            <span slot="not-allowed">HTTPS required for Web Serial. Please use a web server.</span>
                        </esp-web-install-button>
                    </div>
                    
                    <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: #666;">
                        Most common board type
                    </p>
                </div>
                
                <!-- 2.8 inch Board Section -->
                <div style="background: #f8f9fa; border-radius: 12px; padding: 30px; border: 2px solid #e67e22;">
                    <h3 style="color: #e67e22; margin-bottom: 20px; text-align: center; font-size: 1.4rem;">2.8 Inch Display Board</h3>
                    
                    <ol class="installation-steps">
                        <li>Connect your ESP32 board with <strong>2.8 inch TFT display</strong> to your computer's USB port.</li>
                        <li>Click the 'Connect' button below. <strong>This will only work in Google Chrome or Microsoft Edge.</strong></li>
                        <li>When prompted to choose a port, choose "USB Serial".</li>
                        <li>Click 'Install Bongo Cat'.</li>
                    </ol>

                    <div class="install-button-container">
                        <esp-web-install-button 
                            id="install-button-28"
                            manifest="./manifest-2.8inch.json">
                            <button slot="activate">Connect 2.8" Board</button>
                            <span slot="unsupported">Your browser doesn't support Web Serial. Please use Chrome, Edge, or Opera.</span>
                            <span slot="not-allowed">HTTPS required for Web Serial. Please use a web server.</span>
                        </esp-web-install-button>
                    </div>
                    
                    <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: #666;">
                        Newer, larger display version
                    </p>
                </div>
            </div>

            <!-- Inverse Colors Section -->
            <div style="background: #fff3cd; border: 2px solid #ffc107; border-radius: 12px; padding: 30px; margin: 30px 0;">
                <h3 style="color: #856404; margin-bottom: 20px; text-align: center; font-size: 1.6rem;">üîÑ Inverse Colors Fix</h3>
                <p style="text-align: center; font-size: 1.1rem; margin-bottom: 20px; color: #856404; font-weight: 600;">
                    ‚ö†Ô∏è <strong>If your display shows inverted/wrong colors after flashing the regular firmware, use these fixed versions instead:</strong>
                </p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; margin: 20px 0;">
                    <!-- 2.4 inch Inverse Colors Section -->
                    <div style="background: #f8f9fa; border-radius: 12px; padding: 30px; border: 2px solid #6f42c1;">
                        <h4 style="color: #6f42c1; margin-bottom: 20px; text-align: center; font-size: 1.3rem;">2.4 Inch Display (Inverse Colors Fix)</h4>
                        
                        <ol class="installation-steps">
                            <li>Connect your ESP32 board with <strong>2.4 inch TFT display</strong> that has color issues.</li>
                            <li>Click the 'Connect' button below. <strong>This will only work in Google Chrome or Microsoft Edge.</strong></li>
                            <li>When prompted to choose a port, choose "USB Serial".</li>
                            <li>Click 'Install Bongo Cat (Inverse Fix)'.</li>
                        </ol>

                        <div class="install-button-container">
                            <esp-web-install-button 
                                id="install-button-24-inverse"
                                manifest="./manifest-2.4inch-inverse.json">
                                <button slot="activate">Connect 2.4" Board (Inverse Fix)</button>
                                <span slot="unsupported">Your browser doesn't support Web Serial. Please use Chrome, Edge, or Opera.</span>
                                <span slot="not-allowed">HTTPS required for Web Serial. Please use a web server.</span>
                            </esp-web-install-button>
                        </div>
                        
                        <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: #6f42c1; font-weight: 600;">
                            ‚ö†Ô∏è Use only if regular firmware shows wrong colors
                        </p>
                    </div>
                    
                    <!-- 2.8 inch Inverse Colors Section -->
                    <div style="background: #f8f9fa; border-radius: 12px; padding: 30px; border: 2px solid #dc3545;">
                        <h4 style="color: #dc3545; margin-bottom: 20px; text-align: center; font-size: 1.3rem;">2.8 Inch Display (Inverse Colors Fix)</h4>
                        
                        <ol class="installation-steps">
                            <li>Connect your ESP32 board with <strong>2.8 inch TFT display</strong> that has color issues.</li>
                            <li>Click the 'Connect' button below. <strong>This will only work in Google Chrome or Microsoft Edge.</strong></li>
                            <li>When prompted to choose a port, choose "USB Serial".</li>
                            <li>Click 'Install Bongo Cat (Inverse Fix)'.</li>
                        </ol>

                        <div class="install-button-container">
                            <esp-web-install-button 
                                id="install-button-28-inverse"
                                manifest="./manifest-2.8inch-inverse.json">
                                <button slot="activate">Connect 2.8" Board (Inverse Fix)</button>
                                <span slot="unsupported">Your browser doesn't support Web Serial. Please use Chrome, Edge, or Opera.</span>
                                <span slot="not-allowed">HTTPS required for Web Serial. Please use a web server.</span>
                            </esp-web-install-button>
                        </div>
                        
                        <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: #dc3545; font-weight: 600;">
                            ‚ö†Ô∏è Use only if regular firmware shows wrong colors
                        </p>
                    </div>
                </div>
                
                <div style="background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 8px; padding: 20px; margin: 20px 0; text-align: center;">
                    <p style="margin: 0; color: #0c5460; font-weight: 600; font-size: 1rem;">
                        üí° <strong>How to know if you need the inverse fix:</strong> Flash the regular firmware first. If the colors look wrong or inverted on your display, then flash the appropriate inverse colors version.
                    </p>
                </div>
            </div>

            <p class="browser-note">All installations only work in Google Chrome or Microsoft Edge.</p>
            
            <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px; margin: 20px 0; text-align: center;">
                <p style="margin: 0; color: #856404; font-weight: 600; font-size: 1.1rem;">
                    üí° <strong>Troubleshooting Tip:</strong> If the flashing takes more than 15 minutes or gets stuck at "Initializing", press and hold the <strong>BOOT</strong> button on your ESP32 board while using webflasher.
                </p>
            </div>

        </div>

        <div id="desktop-apps" class="pc-app-section">
            <h2>Electron Desktop Application Downloads</h2>
            
            <p class="app-description">
                After flashing your ESP32, install the matching Electron desktop app so your cat can react to your typing, show WPM,
                and stream system stats over USB. Grab the build for your operating system below‚Äîeach package contains the brand new V2 companion app.
            </p>
            
            <div class="features-grid">
                <div class="feature-item">
                    <h4>ü™ü Windows Installer</h4>
                    <p>Signed Electron setup for Windows 10/11.</p>
                    <div class="download-container">
                        <a href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/Bongo.Cat.Setup.1.0.0.zip" class="download-button" target="_blank" rel="noopener">
                            üì¶ Download Windows Installer (.zip)
                        </a>
                        <p class="download-note">Served from Releases‚Äîextract the zip, then run the bundled installer.</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <h4>üçé macOS Builds</h4>
                    <p>Pick the archive that matches your Mac chipset.</p>
                    <div class="download-container">
                        <a href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/bongo-cat-mac-arm64.zip" class="download-button" target="_blank" rel="noopener" style="display:block;">
                            üíª macOS Apple Silicon (ARM64)
                        </a>
                        <a href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/bongo-cat-mac-x64.zip" class="download-button" target="_blank" rel="noopener" style="display:block; margin-top:12px;">
                            üñ•Ô∏è macOS Intel (x64)
                        </a>
                        <p class="download-note">These links pull from the latest GitHub Release assets. Upload files with the exact names above.</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <h4>üêß Linux AppImage</h4>
                    <p>Portable Electron build tested on Ubuntu & Fedora.</p>
                    <div class="download-container">
                        <a href="https://github.com/vostoklabs/Bongo_Cat_v2_webflasher/releases/latest/download/bongo-cat-linux-appimage.zip" class="download-button" target="_blank" rel="noopener">
                            üêß Download Linux AppImage (.zip)
                        </a>
                        <p class="download-note">Served from Releases‚Äîupload the AppImage zip there to activate this button.</p>
                    </div>
                </div>
            </div>
            
            <div class="setup-steps">
                <h3>Setup Steps After Flashing:</h3>
                
                <h4>Windows Setup:</h4>
                <ol class="setup-list">
                    <li>Download <strong>Bongo.Cat.Setup.1.0.0.zip</strong> above.</li>
                    <li>Extract the zip and run <strong>Bongo Cat Setup.exe</strong>, approving the SmartScreen prompt if it appears.</li>
                    <li>Launch Bongo Cat from the Start menu</li>
                    <li>Connect your ESP32 and pick the detected COM port in the app.</li>
                    <li>Start typing and watch your Bongo Cat come to life! üéâ</li>
                </ol>
                
                <h4>macOS Setup:</h4>
                <ol class="setup-list">
                    <li>Download the <strong>ARM64</strong> or <strong>x64</strong> zip based on your Mac.</li>
                    <li>Unzip and drag <strong>Bongo Cat.app</strong> into Applications.</li>
                    <li>On first launch, allow the app in <strong>System Settings ‚Üí Privacy & Security</strong> if Gatekeeper blocks it.</li>
                    <li>Connect your ESP32 via USB and select the correct serial device from the menu bar app.</li>
                    <li>Enjoy the synchronized animations! üéâ</li>
                </ol>

                <h4>Linux Setup:</h4>
                <ol class="setup-list">
                    <li>Download the <strong>AppImage zip</strong> and extract it.</li>
                    <li>Run <code>chmod +x BongoCat.AppImage</code> to make it executable.</li>
                    <li>Double-click or launch from a terminal, then connect your ESP32.</li>
                    <li>Select the correct <strong>/dev/tty*</strong> port in the app to begin streaming data.</li>
                </ol>
            </div>

            <div class="app-instructions">
                <h3>How to Use:</h3>
                <div class="instruction-grid">
                    <div class="instruction-item">
                        <h4>üñ±Ô∏è System Access</h4>
                        <p><strong>Windows:</strong> The app runs from your system tray. Click the Bongo Cat icon to access options.<br>
                        <strong>Mac:</strong> The app appears in your menu bar. Click the icon to access settings and controls.</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>‚öôÔ∏è Settings</h4>
                        <p>Right-click (Windows) or click (Mac) the icon to configure what information is shown and set sleep time.</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üçé Mac Troubleshooting</h4>
                        <p>If the app won't open, go to System Preferences ‚Üí Security & Privacy ‚Üí General and click "Open Anyway" next to the blocked app warning.</p>
                    </div>
                    
                    <div class="instruction-item">
                        <h4>üîó USB Connection</h4>
                        <p>Select the correct USB port in the app to connect to your ESP32. Make sure your ESP32 is connected to your computer via USB cable.</p>
                    </div>
                </div>
            </div>

            <div class="app-features">
                <h3>What the App Can Do:</h3>
                <ul class="features-list">
                    <li><strong>üéπ Typing Detection:</strong> Detects your keyboard activity and triggers adorable bongo animations</li>
                    <li><strong>üìä System Stats:</strong> Shows real-time CPU usage, RAM consumption, and Words Per Minute (WPM)</li>
                    <li><strong>‚è∞ Time Display:</strong> Shows current time on your ESP32 display</li>
                    <li><strong>üé® Multiple Animations:</strong> Various cat expressions and speed-responsive animations</li>
                    <li><strong>üí§ Sleep Mode:</strong> Cat goes to sleep when idle with customizable sleep timer</li>
                    <li><strong>üåê Cross-Platform:</strong> Works seamlessly on both Windows and Mac with the same features</li>
                    <li><strong>üì° USB Communication:</strong> Connects to your ESP32 via USB for reliable data transfer</li>
                </ul>
            </div>

            <div class="animations-showcase">
                <h3>Animation Examples:</h3>
                <div class="animations-grid">
                    <div class="animation-item">
                        <h4>Normal Typing</h4>
                        <img src="web-resources/typing.gif" alt="Normal typing animation" class="animation-gif">
                    </div>
                    
                    <div class="animation-item">
                        <h4>Fast Typing</h4>
                        <img src="web-resources/typing%20fast.gif" alt="Fast typing animation" class="animation-gif">
                    </div>
                    
                    <div class="animation-item">
                        <h4>Sleeping</h4>
                        <img src="web-resources/sleeping.gif" alt="Sleeping animation" class="animation-gif">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get all install buttons
            const installButton24 = document.querySelector('#install-button-24');
            const installButton28 = document.querySelector('#install-button-28');
            const installButton24Inverse = document.querySelector('#install-button-24-inverse');
            const installButton28Inverse = document.querySelector('#install-button-28-inverse');
            
            // ESP32 USB vendor IDs for filtering
            const esp32VendorIds = [0x10C4, 0x1A86, 0x303A, 0x0403, 0x2341, 0x239A, 0x1B4F];
            
            // Create ESP32-only port filters
            const esp32Filters = esp32VendorIds.map(id => ({ usbVendorId: id }));
            
            // Function to setup install button
            function setupInstallButton(button, boardSize, originalText) {
                if (!button) return;
                
                // Set the port filters on the ESP Web Tools button
                button.setAttribute('port-filters', JSON.stringify(esp32Filters));
                
                // Add visual feedback for the installation process
                button.addEventListener('state-changed', function(e) {
                    const activateButton = button.querySelector('button[slot="activate"]');
                    if (!activateButton) return;
                    
                    switch(e.detail.state) {
                        case 'initializing':
                            activateButton.textContent = 'Detecting ESP32...';
                            break;
                        case 'preparing':
                            activateButton.textContent = 'Preparing to Install';
                            break;
                        case 'manifest':
                            activateButton.textContent = 'Loading Firmware...';
                            break;
                        case 'erasing':
                            activateButton.textContent = 'Erasing Flash...';
                            break;
                        case 'writing':
                            activateButton.textContent = `Installing Bongo Cat ${boardSize}"`;
                            break;
                        case 'finished':
                            activateButton.textContent = 'Installation Complete!';
                            setTimeout(() => {
                                activateButton.textContent = originalText;
                            }, 3000);
                            break;
                        case 'error':
                            activateButton.textContent = 'Installation Failed';
                            setTimeout(() => {
                                activateButton.textContent = originalText;
                            }, 3000);
                            break;
                        default:
                            activateButton.textContent = originalText;
                    }
                });
            }
            
            // Setup all buttons
            setupInstallButton(installButton24, '2.4', 'Connect 2.4" Board');
            setupInstallButton(installButton28, '2.8', 'Connect 2.8" Board');
            setupInstallButton(installButton24Inverse, '2.4', 'Connect 2.4" Board (Inverse Fix)');
            setupInstallButton(installButton28Inverse, '2.8', 'Connect 2.8" Board (Inverse Fix)');
            
            console.log('ESP Web Tools initialized for 2.4", 2.8", and inverse color boards with ESP32 filters');
        });
    </script>
</body>
</html> 